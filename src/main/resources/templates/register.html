<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rejestracja</title>
    <link rel="stylesheet" href="/css/register.css">
</head>
<body>
<div class="login-container">
    <h2>Rejestracja</h2>

    <!-- Wiadomość o błędzie -->
    <div style="color:red;" th:if="${error != null}" th:text="${error}"></div>

    <form th:action="@{/register}" th:object="${user}" method="post">
        <!-- Pole CSRF -->
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

        <label for="username">Nazwa użytkownika:</label>
        <input type="text" id="username" th:field="*{username}" required>
        <div style="color:red;" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></div>

        <label for="email">Email:</label>
        <input type="email" id="email" th:field="*{email}" required>
        <div style="color:red;" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>

        <label for="password">Hasło: <span class="hint">(Min 8 znakow, Duza litera, Cyfra)</span></label>
        <input type="password" id="password" th:field="*{password}" required>
        <div style="color:red;" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>

        <label for="confirm_password">Potwierdź hasło:</label>
        <input type="password" id="confirm_password" name="confirm_password" required>

        <button type="submit">Zarejestruj się</button>
        <button type="button" class="home-button" onclick="window.location.href='/home'">Strona Główna</button>
    </form>

    <p>Masz już konto? <a href="/login">Zaloguj się tutaj</a></p>
</div>
</body>
</html>
